<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    <mapper namespace="com.elapid.spring01.dao.AdminQnADao">
    
	<!-- List -->
    <select id="aQnAListDao" resultType="com.elapid.spring01.dto.AdminQnADto">
 		SELECT PQ_ID, QC_NAME, U_ID, PQ_TITLE, PQ_CONTENT , ANQ_STATE
 		FROM PRODUCT_QUESTION
 		ORDER BY PQ_ID
 		
 	</select>
    
    <update id="aQnAStateDao">
    	UPDATE PRODUCT_QUESTION SET ANQ_STATE = '답변완료' WHERE PQ_ID = #{param1}
    </update> 
    
    <!-- Content -->
    <select id="aQnAContentDao" resultType="com.elapid.spring01.dto.AdminQnADto">
   		SELECT ANQ.ANQ_ID, ANQ.ANQ_TITLE, ANQ.ANQ_CONTENT, ANQ.AD_ID
	    FROM ANSWER_QUESTION AS ANQ
	    WHERE ANQ.PQ_ID = #{param1};
    </select>
    
    <select id="QnAContentDao" resultType="com.elapid.spring01.dto.AdminQnADto">
    	SELECT PQ_ID, QC_NAME, U_ID, PQ_TITLE, PQ_CONTENT 
 		FROM PRODUCT_QUESTION
 		WHERE PQ_ID = #{param1}
    </select>
    
    <!-- Write -->
    <insert id="aQnAWriteDao">
  		INSERT INTO ANSWER_QUESTION (ANQ_TITLE, ANQ_CONTENT, PQ_ID, AD_ID) VALUES (#{param1}, #{param2}, #{param3}, #{param4})
    </insert>
    
    
    
    
    
    </mapper>